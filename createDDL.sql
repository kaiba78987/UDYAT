CREATE TABLE udyat_user (NAME VARCHAR(255) NOT NULL, EMAIL VARCHAR(255), LASTENTRANCE TIMESTAMP, PASSWORD VARCHAR(255), REGISTERED TIMESTAMP, PRIMARY KEY (NAME))
CREATE TABLE project (ID BIGINT NOT NULL, CREATED TIMESTAMP, PUBLICACCESS BOOLEAN, TITLE VARCHAR(255), CREATOR_NAME VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE model (ID BIGINT NOT NULL, CREATED TIMESTAMP, TITLE VARCHAR(255), OWNER_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE model_version (CONFLICTIVE BOOLEAN, XMI VARCHAR(255), VERSION TIMESTAMP NOT NULL, MODELID BIGINT NOT NULL, MODIFIER_NAME VARCHAR(255), PRIMARY KEY (VERSION, MODELID))
CREATE TABLE contributors (contributors_NAME VARCHAR(255) NOT NULL, contributedProjects_ID BIGINT NOT NULL, PRIMARY KEY (contributors_NAME, contributedProjects_ID))
CREATE TABLE managers (administrators_NAME VARCHAR(255) NOT NULL, managedProjects_ID BIGINT NOT NULL, PRIMARY KEY (administrators_NAME, managedProjects_ID))
CREATE TABLE participants (participants_NAME VARCHAR(255) NOT NULL, participatedProjects_ID BIGINT NOT NULL, PRIMARY KEY (participants_NAME, participatedProjects_ID))
ALTER TABLE project ADD CONSTRAINT FK_project_CREATOR_NAME FOREIGN KEY (CREATOR_NAME) REFERENCES udyat_user (NAME)
ALTER TABLE model ADD CONSTRAINT FK_model_OWNER_ID FOREIGN KEY (OWNER_ID) REFERENCES project (ID)
ALTER TABLE model_version ADD CONSTRAINT FK_model_version_MODELID FOREIGN KEY (MODELID) REFERENCES model (ID)
ALTER TABLE model_version ADD CONSTRAINT FK_model_version_MODIFIER_NAME FOREIGN KEY (MODIFIER_NAME) REFERENCES udyat_user (NAME)
ALTER TABLE contributors ADD CONSTRAINT FK_contributors_contributors_NAME FOREIGN KEY (contributors_NAME) REFERENCES udyat_user (NAME)
ALTER TABLE contributors ADD CONSTRAINT FK_contributors_contributedProjects_ID FOREIGN KEY (contributedProjects_ID) REFERENCES project (ID)
ALTER TABLE managers ADD CONSTRAINT FK_managers_administrators_NAME FOREIGN KEY (administrators_NAME) REFERENCES udyat_user (NAME)
ALTER TABLE managers ADD CONSTRAINT FK_managers_managedProjects_ID FOREIGN KEY (managedProjects_ID) REFERENCES project (ID)
ALTER TABLE participants ADD CONSTRAINT FK_participants_participants_NAME FOREIGN KEY (participants_NAME) REFERENCES udyat_user (NAME)
ALTER TABLE participants ADD CONSTRAINT FK_participants_participatedProjects_ID FOREIGN KEY (participatedProjects_ID) REFERENCES project (ID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
